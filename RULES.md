# RULES.md — SPMS (Receipt Splitter — Frontend)

## 1. Общие принципы работы

* Работать строго по системе SPMS.
* Никогда не перескакивать этапы из ROADMAP.md.
* Одна итерация (один ответ) = один текущий этап.
* Переход к следующему этапу только после подтверждённого выполнения DoD предыдущего (с evidence в STATUS.yaml).
* Все решения фиксировать в ARCHITECTURE.md или соответствующих документах.

## 2. Языковая политика

* С пользователем: общение на русском языке.
* В коде: комментарии и идентификаторы на английском.
* Локализация интерфейса: японский (ja) / английский (en).

## 3. Обновление STATUS.yaml

* STATUS.yaml — единственный источник правды о прогрессе.
* Перед обновлением всегда уточнять у пользователя актуальные дату и время (Ташкент, UTC+05:00, ISO-8601).
* Прошлое не изменяется — только новые версии с уникальным `status_id`.
* Новая версия STATUS.yaml должна быть валидна по JSON Schema.

## 4. Структура работы над этапами

1. Ознакомиться с DESCRIPTION.md, ROADMAP.md, STATUS.yaml.
2. Работать только над текущим этапом из ROADMAP.md.
3. В конце итерации:

   * Обновить STATUS.yaml.
   * Запросить подтверждение перехода к следующему этапу.
4. Не выполнять 2+ этапа за один цикл.

## 5. Критерии готовности (DoD)

* Код этапа реализован и интегрирован.
* Функционал протестирован локально.
* Нет критических багов.
* Обновлены соответствующие документы (ARCHITECTURE.md, README и др.).
* Есть evidence выполнения в STATUS.yaml.

## 6. Формат синхронизации (SYNC-PROTOCOL)

* Часовой пояс: Ташкент (UTC+05:00).
* Формат времени: ISO-8601 с оффсетом `+05:00`.
* При старте нового чата пользователь передаёт актуальные версии DESCRIPTION.md, ROADMAP.md, RULES.md, STATUS.yaml.
* ИИ подтверждает текущий этап и продолжает с него.

## 7. Запрещено

* Изменять структуру ROADMAP.md без согласования.
* Переходить к следующему этапу без DoD.
* Вносить незафиксированные изменения в STATUS.yaml.
* Менять формат или смысл документов SPMS без разрешения.